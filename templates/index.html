<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radar ClimÃ¡tico - Jemily</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ“¡ Radar ClimÃ¡tico</h1>
        <div class="search-box">
            <input type="text" id="ciudad" placeholder="Escribe una ciudad (ej: Guatemala)...">
            <button onclick="buscar()">Buscar</button>
        </div>

        <div id="resultado">
            </div>
    </div>

    <script>
        async function buscar() {
            const ciudad = document.getElementById('ciudad').value;
            const res = await fetch(`/city/${ciudad}`);
            const data = await res.json();

            if (data.error) {
                document.getElementById('resultado').innerHTML = `<p style="color:red;">${data.error}</p>`;
                return;
            }

            let html = `
                <div class="card">
                    <h2>${data.city}, ${data.country} <img src="${data.flag}" class="flag"></h2>
                    <p class="location-info">ğŸ“ Lat: ${data.latitude} | Lon: ${data.longitude}</p>
                    <p class="location-info">ğŸ‘¥ PoblaciÃ³n: ${data.population.toLocaleString()}</p>
                    <hr>
                    <h3 style="margin: 10px 0;">${data.weather_desc} - ${data.temperature}Â°C</h3>
                    
                    <div class="weather-grid">
                        <div class="weather-item"><strong>SensaciÃ³n</strong> <span>ğŸŒ¡ï¸ ${data.feels_like}Â°C</span></div>
                        <div class="weather-item"><strong>Humedad</strong> <span>ğŸ’§ ${data.humidity}%</span></div>
                        <div class="weather-item"><strong>Viento</strong> <span>ğŸŒ¬ï¸ ${data.wind_speed} m/s</span></div>
                        <div class="weather-item"><strong>PresiÃ³n</strong> <span>ğŸ“‰ ${data.pressure} hPa</span></div>
                        <div class="weather-item"><strong>Visibilidad</strong> <span>ğŸ‘ï¸ ${data.visibility} km</span></div>
                        <div class="weather-item"><strong>Nubosidad</strong> <span>â˜ï¸ ${data.clouds}%</span></div>
                        <div class="weather-item"><strong>MÃ¡xima</strong> <span>ğŸ“ˆ ${data.temp_max}Â°C</span></div>
                        <div class="weather-item"><strong>MÃ­nima</strong> <span>ğŸ“‰ ${data.temp_min}Â°C</span></div>
                        <div class="weather-item"><strong>Amanecer</strong> <span>ğŸŒ… ${data.sunrise}</span></div>
                        <div class="weather-item"><strong>Atardecer</strong> <span>ğŸŒ‡ ${data.sunset}</span></div>
                    </div>
                </div>
            `;
            document.getElementById('resultado').innerHTML = html;
        }
    </script>
</body>
</html>